
@{
    ViewBag.Title = "Dịch vụ đã xác nhận";
 
}

<div class="page-header">
    <h1>

        @ViewBag.Title (<span id="spCount">0</span>)
    </h1>
</div>

@using (Html.BeginForm("Index", "Service", FormMethod.Get, new { id = "frmService" }))
{
    @Html.Hidden("AreaCode", (string)ViewBag.AreaCodeValue)
    @Html.Hidden("chkExport", "0")
    <div class="row">
        <div class="col-md-4 col-lg-4 col-xs-12 col-sm-12 divboxmd">
            Từ khóa
            <input type="text" name="key" value="@ViewBag.keyValue" placeholder="Biển số | Loại hàng | Khối lượng | Loại xe | Nhóm hàng hoá..." class="form-control" />
        </div>
        <div class="col-md-2 col-lg-2 col-xs-12 col-sm-12 divboxmd">

            <span class="lbl">Trạng thái sự kiện </span>
            @await Component.InvokeAsync("ChosenSelect", ViewBag.Eventype)

        </div>
        <div class="col-md-2 col-lg-2 col-xs-12 col-sm-12 divboxmd">

            <span class="lbl">Dịch vụ </span>
            @await Component.InvokeAsync("ChosenSelect", ViewBag.LstService)

        </div>
        <div class="col-md-2 col-lg-2 col-xs-12 col-sm-12 divboxmd">

            <span class="lbl">Tổ bốc xếp </span>
            @await Component.InvokeAsync("ChosenSelect", ViewBag.LstGrSelect)

        </div>

    </div>


    <div class="row">
        <div class="col-md-3 col-lg-3 col-xs-12 col-sm-12 divboxmd">
            <br />
            <button class="btn btn-white btn-primary btnSearch" type="button"><i class="fa fa-search" aria-hidden="true"></i> @await Component.InvokeAsync("Language", new { path = "BODY:BUTTON:SEARCH" }) </button>
            <a href='@Url.Action("Index", "Service",new { AreaCode = ViewBag.AreaCodeValue })' class="btn btn-primary btn-white" type="submit">
                <i class="fa fa-refresh" aria-hidden="true"></i>
                Reset
            </a>
            @*<a href="javascript:void(0)" class="btnExport btn btn-white btn-primary" title="Xuất excel">
                    <i class="ace-icon fa fa-file-excel-o"></i>  @await Component.InvokeAsync("Language", new { path = "BODY:BUTTON:EXCEL" })
                </a>*@

        </div>
    </div>
}
<div class="hr hr-18 dotted hr-24"></div>
<div class="row" style="margin-left: 4px" id="BoxshowColumn">

    @await Component.InvokeAsync("MultiselectColumn", ViewBag.listSlectColumn)

</div>
<div class="hr hr-18 dotted hr-24"></div>
<div class="row" id="boxTable">

</div>


@section scripts{
    <script src="~/modules/ServiceController.js"></script>
    <script src="~/modules/Signalr.js"></script>
    <script>
        jQuery(function ($) {
            var $overflow = '';
            var colorbox_params = {
                rel: 'colorbox',
                reposition: true,
                scalePhotos: true,
                scrolling: false,
                previous: '<i class="ace-icon fa fa-arrow-left"></i>',
                next: '<i class="ace-icon fa fa-arrow-right"></i>',
                close: '&times;',
                current: '{current} of {total}',
                maxWidth: '100%',
                maxHeight: '100%',
                onOpen: function () {
                    $overflow = document.body.style.overflow;
                    document.body.style.overflow = 'hidden';
                },
                onClosed: function () {
                    document.body.style.overflow = $overflow;
                },
                onComplete: function () {
                    $.colorbox.resize();
                }
            };

            $('.ace-thumbnails [data-rel="colorbox"]').colorbox(colorbox_params);
            $("#cboxLoadingGraphic").html("<i class='ace-icon fa fa-spinner orange fa-spin'></i>");//let's add a custom loading icon


            $(document).one('ajaxloadstart.page', function (e) {
                $('#colorbox, #cboxOverlay').remove();
            });
        })
        $(document).ready(function () {
            ServiceController.PartialService(1);
            $('#columnId').change(function () {
                var str = "";
                var cmd = $(this);
                cmd.parent().find('ul.multiselect-container li.active').each(function () {
                    var _cmd = $(this);
                    str += _cmd.find('input[type=checkbox]').val() + ",";
                });
                ServiceController.AddValueSelect(str, "Service", "Index");

            });


            //$('[data-spzoom]').spzoom({
            //    width: 350,
            //    height: 350,
            //    position: 'right',
            //    margin: 25,
            //    showTitle: true,
            //    titlePosition: 'bottom'
            //});
        });
    </script>
}